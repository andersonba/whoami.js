var whoami=function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(1),a=n(2),f=o(a),l=function(){function e(t,n,o){var s=this;r(this,e),"object"===("undefined"==typeof t?"undefined":u(t))?(o=n,n=t,t=void 0):"function"==typeof n&&(o=n,n={}),n=i({basic:!0,shortcut:!0},n),this.options=n,this.filters=Object.keys(this.options).filter(function(e){return s.options[e]}),this._modules={},this._apiUrl=t,this._callback=o,this.store=f["default"],this.execute=this.execute.bind(this),this.__init=this.__init.bind(this),this.__executeModules=this.__executeModules.bind(this),this.__init()}return s(e,[{key:"__init",value:function(){var e=n(3);e.keys().map(function(t){var n=e(t),o=t.replace("./","").replace(".js","");n.init&&this.filters.indexOf(o)>=0&&n.init(this),this._modules[o]=n}.bind(this))}},{key:"execute",value:function(){var e=this;this.store.clear(),this.__executeModules(function(){var t=e.store.get();return e._apiUrl?void(0,c.postRequest)(e._apiUrl,t,function(e,t){try{t=JSON.parse(t||"{}")}catch(n){throw new Error("Failed to parse whoami response",t)}"function"==typeof this._callback&&this._callback(e,t)}.bind(e)):void(e._callback&&e._callback(t))})}},{key:"__executeModules",value:function(e){var t=this,n=0,o=this.filters.filter(function(e){return e in t._modules&&(0,c.isFunction)(t._modules[e].execute)});o.map(function(r){var i=t._modules[r].execute;i(t,function(){n++,o.length===n&&e()})})}}]),e}();e.exports=l},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o={isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return e&&"function"==typeof e},objToString:function(e,t){if(null==e)return String(e);switch("undefined"==typeof e?"undefined":n(e)){case"string":return'"'+e+'"';case"function":return e.toString().slice(("function "+e.name).length).replace(/^/,"function").replace(/(\r\n|\n|\r)/gm,"").replace(/\s+/g," ");case"object":var r=Array(t||1).join(" "),i=o.isArray(e);return"{["[+i]+Object.keys(e).map(function(n){return r+n+": "+o.objToString(e[n],(t||1)+1)}).join(", ")+r+"}]"[+i];default:return e.toString()}},postRequest:function(e,t,n){n=n||function(){};var o=new window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");t=JSON.stringify(t),o.open("POST",encodeURI(e),!0),o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.onload=function(){return 4===o.readyState&&200===o.status?n(null,o.responseText):void n(new Error(o.statusText))},o.send(t)},getCookies:function(){for(var e={},t=document.cookie.split(";"),n=0,o=t.length;o>n;n++){var r=t[n].trim().split("=");e[r[0]]=unescape(r[1])}return e},patchFunction:function(e,t,n){if(e[t]&&"function"==typeof e[t]){var o=e[t];return e[t]=function(){o.apply(e,arguments),n.apply(e,arguments)},e}},loadScript:function(e,t){if(window.__whoami_scripts=window.__whoami_scripts||[],window.__whoami_scripts.indexOf(e)>=0)return t();var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.addEventListener("load",t,!1);var o=document.getElementsByTagName("head")[0];o.appendChild(n),window.__whoami_scripts.push(e)}};t["default"]=o,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r={prefix:"_whoami.",set:function(e,t){var n=r.get(e);n&&(n=(0,o.isArray)(n)?n:[n],n.push(t)),window.localStorage.setItem(""+r.prefix+e,JSON.stringify(n||t))},get:function(e){if(e)return JSON.parse(window.localStorage.getItem(""+r.prefix+e),"null");var t={};for(var n in window.localStorage)0===n.indexOf(r.prefix)&&(n=n.replace(r.prefix,""),t[n]=r.get(n));return t},clear:function(){for(var e in window.localStorage)0===e.indexOf(r.prefix)&&window.localStorage.removeItem(e)}};t["default"]=r,e.exports=t["default"]},function(e,t,n){function o(e){return n(r(e))}function r(e){return i[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var i={"./basic.js":4,"./console.js":5,"./context.js":6,"./cookie.js":7,"./error.js":8,"./functions.js":9,"./localStorage.js":10,"./screenshot.js":11,"./sessionStorage.js":12,"./shortcut.js":13};o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id=3},function(e,t){"use strict";function n(e,t){e.store.set("basic",{title:document.title,url:window.location.href,origin:window.location.origin,userAgent:navigator.userAgent,resolution:screen.width+"x"+screen.height,time:+new Date}),t()}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={execute:n},e.exports=t["default"]},function(e,t,n){"use strict";function o(e){e.__output_console=[];var t=e.options.console;t!==!1&&(t="object"===("undefined"==typeof t?"undefined":u(t))?t:{},t=i(c,t));var n=Object.keys(t).filter(function(e){return t[e]});n.map(function(t){(0,s.patchFunction)(window.console,t,function(){e.__output_console.push({time:+new Date,type:t,message:Array.prototype.slice.call(arguments).map(s.objToString).join(" ")})}.bind(e))})}function r(e,t){e.store.set("console",e.__output_console),t()}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=n(1),c={log:!0,error:!0,info:!0,warn:!0};t["default"]={init:o,execute:r},e.exports=t["default"]},function(e,t){"use strict";function n(e,t){e.options.context&&e.store.set("context",e.options.context),t()}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={execute:n},e.exports=t["default"]},function(e,t,n){"use strict";function o(e,t){e.store.set("cookie",(0,r.getCookies)()),t()}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t["default"]={execute:o},e.exports=t["default"]},function(e,t){"use strict";function n(e){e.__output_error=[],window.onerror=function(t,n,o,r){return e.__output_error.push({time:+new Date,message:t,url:n,line:o,col:r}),!1}}function o(e,t){e.store.set("error",e.__output_error),t()}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={init:n,execute:o},e.exports=t["default"]},function(e,t){"use strict";function n(e,t){function n(){r>=Object.keys(o).length&&(e.store.set("functions",i),t())}var o=e.options.functions||{},r=0,i={},u=function(e){var t=o[e](function(t){i[e]=t,r++,n()});t&&(i[e]=t,r++,n())};for(var s in o)u(s)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={execute:n},e.exports=t["default"]},function(e,t){"use strict";function n(e,t){var n=window.localStorage||{},o={};for(var r in n)n.hasOwnProperty(r)&&r.indexOf(e.store.prefix)<0&&(o[r]=n[r]);e.store.set("localStorage",o),t()}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={execute:n},e.exports=t["default"]},function(e,t,n){"use strict";function o(e,t){(0,r.loadScript)(i,function(){var n=window.scrollY;window.html2canvas(document.body,{onrendered:function(o){var r=o.toDataURL("image/jpeg");window.scroll(0,n),e.store.set("screenshot",r),t()}})})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js";t["default"]={execute:o},e.exports=t["default"]},function(e,t){"use strict";function n(e,t){e.store.set("sessionStorage",JSON.parse(JSON.stringify(window.sessionStorage))),t()}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={execute:n},e.exports=t["default"]},function(e,t){"use strict";function n(e){document.addEventListener("keydown",function(t){var n=!!t[o+"Key"],i=String.fromCharCode(t.which)===r;n&&i&&e.execute()})}Object.defineProperty(t,"__esModule",{value:!0});var o="ctrl",r="0";t["default"]={init:n},e.exports=t["default"]}]);