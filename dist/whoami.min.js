var whoami=function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=n(1),u=function(){function t(){var e=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=arguments[1];o(this,t),"function"==typeof n&&(r=n,n={}),n.filters=i({basic:!0,context:!0},n.filters),this.options=n,this.output={},this.filters=Object.keys(this.options.filters).filter(function(t){return e.options.filters[t]}),this._callback=r,this._modules={},this.execute=this.execute.bind(this),this.__init=this.__init.bind(this),this.__runModules=this.__runModules.bind(this),this.__init()}return r(t,[{key:"__init",value:function(){var t=n(2);t.keys().map(function(e){var n=t(e);n.init&&n.init(this),this._modules[e.replace("./","").replace(".js","")]=n}.bind(this))}},{key:"execute",value:function(){var t=this;this.output={},this.__showLoading(),this.__runModules(function(){Object.keys(t._modules).map(function(e){var n=t._modules[e].action;t.options[e]&&(0,s.isFunction)(n)&&n(t,i({},t.output))}),t._callback&&t._callback(t.output),t.__hideLoading()})}},{key:"store",value:function(t,e){var n=this.output[t];n&&(n=(0,s.isArray)(n)?n:[n],n.push(e)),this.output[t]=n||e}},{key:"__runModules",value:function(t){var e=this,n=0,o=this.filters;o.map(function(i){if(i in e._modules){var r=e._modules[i].execute;(0,s.isFunction)(r)&&r(e,function(){n++,o.length===n&&t()})}})}},{key:"__showLoading",value:function(){}},{key:"__hideLoading",value:function(){}}]),t}();t.exports=u},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},isFunction:function(t){return t&&"function"==typeof t},postRequest:function(t,e,n){var o=new window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");e=JSON.stringify(e),o.open("POST",encodeURI(t),!0),o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.onload=function(){return 4===o.readyState&&200===o.status?n(null,o.responseText):void n(new Error(o.statusText))},o.send(e)},uploadImage:function(t,e,o){var i=e.name,r=e.key,s=e.preset,u="https://api.cloudinary.com/v1_1/"+i+"/image/upload";n.postRequest(u,{file:t,timestamp:+new Date,upload_preset:s,api_key:r},function(t,e){t||(e=JSON.parse(e)),o(t,e)})},getCookies:function(){for(var t={},e=document.cookie.split(";"),n=0,o=e.length;o>n;n++){var i=e[n].trim().split("=");t[i[0]]=unescape(i[1])}return t},patchFunction:function(t,e,n){if(t[e]&&"function"==typeof t[e]){var o=t[e];return t[e]=function(){o.apply(t,arguments),n.apply(t,arguments)},t}},loadScript:function(t,e){if(window.__whoami_scripts=window.__whoami_scripts||[],window.__whoami_scripts.indexOf(t)>=0)return e();var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=t,n.addEventListener("load",e,!1);var o=document.getElementsByTagName("head")[0];o.appendChild(n),window.__whoami_scripts.push(t)}};e["default"]=n,t.exports=e["default"]},function(t,e,n){function o(t){return n(i(t))}function i(t){return r[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var r={"./ajax.js":3,"./basic.js":4,"./clipboard.js":5,"./console.js":6,"./context.js":7,"./cookie.js":8,"./exception.js":9,"./feedback.js":10,"./functions.js":11,"./localStorage.js":12,"./screenshot.js":13,"./shortcut.js":14,"./slack.js":15};o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=2},function(t,e,n){"use strict";function o(t,e){var n=JSON.stringify(e),o=t.options.ajax,u="string"!=typeof o,a=u?o.url:o,c=u?o.callback:void 0;(0,i.postRequest)(a,n,function(t,e){return c?c(e):void alert(t?s:r)})}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r="Thank you, we will contact you soon",s="Submit failed, try again or contact us.";e["default"]={action:o},t.exports=e["default"]},function(t,e){"use strict";function n(t,e){t.store("basic",{title:document.title,url:window.location.href,origin:window.location.origin,userAgent:navigator.userAgent,resolution:screen.width+"x"+screen.height,time:+new Date}),e()}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={execute:n},t.exports=e["default"]},function(t,e){"use strict";function n(t,e){prompt(o,JSON.stringify(e))}Object.defineProperty(e,"__esModule",{value:!0});var o="Copy this text and send for us. Thanks!";e["default"]={action:n},t.exports=e["default"]},function(t,e,n){"use strict";function o(t){if(!(t.filters.indexOf("console")<0)){window.__whoami_console=[];var e=t.options.filters.console;e!==!1&&(e="object"===("undefined"==typeof e?"undefined":s(e))?e:{},e=r(a,e));var n=Object.keys(e).filter(function(t){return e[t]});n.map(function(e){(0,u.patchFunction)(window.console,e,function(){window.__whoami_console.push({time:+new Date,type:e,message:Array.prototype.slice.call(arguments).join(" ")})}.bind(t))})}}function i(t,e){t.store("console",window.__whoami_console),e()}var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};Object.defineProperty(e,"__esModule",{value:!0});var u=n(1),a={log:!0,error:!0,info:!0,warn:!0};e["default"]={init:o,execute:i},t.exports=e["default"]},function(t,e){"use strict";function n(t,e){t.options.context&&t.store("context",t.options.context),e()}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={execute:n},t.exports=e["default"]},function(t,e,n){"use strict";function o(t,e){t.store("cookie",(0,i.getCookies)()),e()}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1);e["default"]={execute:o},t.exports=e["default"]},function(t,e){"use strict";function n(t){t.filters.indexOf("exception")<0||(window.__whoami_exceptions=[],window.onerror=function(t,e,n,o){window.__whoami_exceptions.push({time:+new Date,message:t,url:e,line:n,col:o})})}function o(t,e){t.store("exception",window.__whoami_exceptions),e()}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={init:n,execute:o},t.exports=e["default"]},function(t,e){"use strict";function n(t,e){var n=prompt(o);t.store("feedback",n),e()}Object.defineProperty(e,"__esModule",{value:!0});var o="Please, enter your feedback about us (optional)";e["default"]={execute:n},t.exports=e["default"]},function(t,e){"use strict";function n(t,e){function n(){i>=Object.keys(o).length&&(t.store("functions",r),e())}var o=t.options.filters.functions||{},i=0,r={},s=function(t){var e=o[t](function(e){r[t]=e,i++,n()});e&&(r[t]=e,i++,n())};for(var u in o)s(u)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={execute:n},t.exports=e["default"]},function(t,e){"use strict";function n(t,e){var n=window.localStorage||{},o={};for(var i in n)n.hasOwnProperty(i)&&(o[i]=n[i]);t.store("localStorage",o),e()}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={execute:n},t.exports=e["default"]},function(t,e,n){"use strict";function o(t){if(!(t.filters.indexOf("screenshot")<0)){var e=t.options.cloudinary||{};if(!(e.name&&e.key&&e.preset))throw new Error("Missing Cloudinary configuration")}}function i(t,e){(0,r.loadScript)(s,function(){var n=window.scrollY;window.html2canvas(document.body,{onrendered:function(o){var i=o.toDataURL();window.scroll(0,n),(0,r.uploadImage)(i,t.options.cloudinary,function(n,o){n&&alert(u),t.store("screenshot",n?null:o.url),e()})}})})}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),s="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js",u="Failed to upload screenshot, try again.";e["default"]={init:o,execute:i},t.exports=e["default"]},function(t,e){"use strict";function n(t){t.options.shortcut&&document.addEventListener("keydown",function(e){var n=!!e[o+"Key"],r=String.fromCharCode(e.which)===i;n&&r&&t.execute()})}Object.defineProperty(e,"__esModule",{value:!0});var o="ctrl",i="0";e["default"]={init:n},t.exports=e["default"]},function(t,e,n){"use strict";function o(t,e){var n=void 0,o=void 0,l=void 0,f=t.options.slack;"string"==typeof f?(o=s,n=f):(o=i(f,s),n=f.hook_url,l=o.callback,delete o.hook_url,delete o.callback),o.attachments=[{title:"Informations",fields:function(){var t=[];return Object.keys(e).map(function(n){t.push({title:n.charAt(0).toUpperCase()+n.slice(1),value:JSON.stringify(e[n]),"short":!1})}),t}()}],o=JSON.stringify(o),(0,r.postRequest)(u,{hook_url:n,data:o},function(t,e){try{e=JSON.parse(e)}catch(t){e={}}var n=t&&!e.sent;return l?l(n):void alert(n?a:c)})}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),s={username:"Whoami.js",text:"New ticket received",urlfurl_links:!0,link_names:!1},u="https://run.blockspring.com/api_v2/blocks/slack-proxy?api_key=br_1823_0eadf85b1a5f954587fc96df1917fd68ccc7fee8",a="Submit failed to Slack, try again or contact us",c="Thank you! We contact you soon";e["default"]={action:o},t.exports=e["default"]}]);
//# sourceMappingURL=whoami.min.js.map